

name: aws checks


on:
    push:
        branches:
            - main
    workflow_dispatch:

jobs:
    aws_login:
      runs-on: ubuntu-latest
      steps:
        - name: login
          uses: aws-actions/configure-aws-credentials@v5.0.0
          with:
            aws-region: ${{ secrets.AWS_REGION }}
            role-to-assume: ${{ secrets.IAM_ROLE }}
        - name: list all s3 buckets
          run: aws s3 ls